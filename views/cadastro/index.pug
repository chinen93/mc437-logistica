extends ../layouts/default.pug

mixin create-form(formulario)
  form(action='/cadastro'+ formulario.action + '?type=' + formType, method='post')
    input(type='hidden', name='formType', value=formType)
    each input,index in formulario.inputs
      if input.tipo == "radio"
        .radio-inline
           input(type='radio', name=input.identificador, value=input.value)
           = input.titulo
      else
        label= input.titulo
        if input.tipo == "valor"
          +input-group("R$")
            +input-simple("text", "", {name: "" + input.identificador})
        else
          if input.tipo == "select"
            div
              select(name=input.identificador)
                each selectOption in input.options
                  option(value=selectOption.id)
                    = selectOption.nome  
          else
            +input-simple("text", "", {name: "" + input.identificador})
        p
    p
    +submit("" + formulario.submitTxt)

block content
  if alert == 1
    +alert-ix-success(" Operação realizada com sucesso")
  if alert == 0
    +alert-ix-danger(" Operação não realizada, possívelmente dados inconsistentes")

  +panel-primary(cadastroTitle)
    +tab-list(["Adicionar", "Alterar", "Remover"])
      +tab("Adicionar", "active")
        h2 Adicionar
        p
        +create-form(formAdicionar)
      +tab("Alterar")
        h2 Alterar
        p
        +create-form(formAlterar)
      +tab("Remover")
        h2 Remover
        p
        +create-form(formRemover)

  +panel-primary(tableLabel)
    +table-striped(tableHeader, tableContent)
